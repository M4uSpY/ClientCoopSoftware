<UserControl
    x:Class="ClientCoopSoft.Views.Capacitaciones.CapacitacionResumenView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:ClientCoopSoft.Views.Capacitaciones"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    mc:Ignorable="d">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!--  Encabezado  -->
            <RowDefinition Height="*" />
            <!--  Lista  -->
        </Grid.RowDefinitions>

        <!--  ENCABEZADO  -->
        <Grid Grid.Row="0" Margin="0,-15,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!--  Título  -->
            <TextBlock
                Grid.Column="0"
                Margin="0,0,0,10"
                VerticalAlignment="Center"
                FontSize="24"
                FontWeight="SemiBold"
                Foreground="#303048"
                Text="{Binding TituloCabecera}" />

            <!--  Botón Nueva capacitación  -->
            <Button
                Grid.Column="1"
                Width="180"
                md:ButtonAssist.CornerRadius="5"
                Background="#4CAF50"
                BorderBrush="Transparent"
                BorderThickness="0"
                Command="{Binding NuevaCapacitacionCommand}"
                Content="Nueva capacitación"
                Foreground="White" />
        </Grid>

        <!--  Lista de Cards  -->
        <ScrollViewer Grid.Row="1">
            <ItemsControl ItemsSource="{Binding Capacitaciones}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel
                            ItemHeight="310"
                            ItemWidth="350"
                            Orientation="Horizontal" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Width="340"
                            Height="300"
                            Padding="0"
                            Background="White"
                            BorderBrush="Transparent"
                            BorderThickness="1"
                            CornerRadius="8"
                            Cursor="Hand">

                            <Grid>
                                <Grid.RowDefinitions>
                                    <!--  Parte superior: certificado  -->
                                    <RowDefinition Height="*" />
                                    <!--  Parte inferior: barra con título + EDITAR  -->
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <!--  Imagen del certificado  -->
                                <Border
                                    Grid.Row="0"
                                    Background="White"
                                    ClipToBounds="True"
                                    CornerRadius="8,8,100,100">
                                    <Grid ClipToBounds="True">
                                        <Image
                                            Width="340"
                                            RenderOptions.BitmapScalingMode="HighQuality"
                                            Source="{Binding ArchivoCertificado}"
                                            Stretch="UniformToFill" />
                                    </Grid>
                                </Border>

                                <!--  Barra inferior  -->
                                <Border
                                    Grid.Row="1"
                                    Padding="8,6"
                                    Background="#3F3F51"
                                    CornerRadius="0,0,8,8">
                                    <StackPanel Orientation="Vertical">
                                        <!--  Título de la capacitación  -->
                                        <TextBlock
                                            Margin="0,0,0,2"
                                            HorizontalAlignment="Center"
                                            FontSize="13"
                                            Foreground="White"
                                            Text="{Binding Titulo}"
                                            TextWrapping="Wrap" />

                                        <!--  Botón EDITAR estilo texto  -->
                                        <Button
                                            Padding="0"
                                            HorizontalAlignment="Center"
                                            Background="Transparent"
                                            BorderThickness="0"
                                            Command="{Binding DataContext.EditarCapacitacionCommand, RelativeSource={RelativeSource AncestorType=UserControl}}"
                                            CommandParameter="{Binding}">
                                            <TextBlock
                                                FontSize="12"
                                                FontWeight="SemiBold"
                                                Foreground="#FFF3BC"
                                                Text="EDITAR" />
                                        </Button>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </Border>

                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
</UserControl>
